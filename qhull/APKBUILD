# Maintainer: Notebook Gallery Team <team@nb.gallery>
pkgname=qhull
pkgver=7.2.0
pkgrel=2
pkgdesc="Computational Geometry C++ Libraries"
url="http://www.qhull.org"
arch="x86_64"
license="CB Barber, The Geometry Center (Univ of Minn)"
depends=""
depends_dev=""
makedepends="$depends_dev gcc cmake make"
install=""
subpackages="$pkgname-dev $pkgname-doc"
source="qhull.zip::https://github.com/qhull/qhull/archive/master.zip"

builddir="$srcdir"/qhull-master
build() {
	cd "$builddir"
	cd build || return 1
	cmake -G "Unix Makefiles" .. || return 1
	cmake -DCMAKE_INSTALL_PREFIX:PATH=/usr .. || return 1
	make || return 1
}

package() {
	cd "$builddir"
	cd build || return 1
	make DESTDIR="$pkgdir" install || return 1
	cd ..
	install -Dm644 COPYING.txt "$pkgdir"/usr/share/licenses/"$pkgname"/COPYING.txt
	rm -f "$pkgdir"/usr/lib/*.la
}
sha512sums="4351ef39dc142e9cf89c27f3e5bc420585ba61e3e1b90bc99ce64ae2a37ebe70142f276839deaf34b903fc9e57cdfe3a92a05d9c98453fae4e1dbbd22cb05492  qhull.zip"
