# Maintainer: Notebook Gallery Team <team@nb.gallery>
pkgname=arpack
pkgver=3.4.0
pkgrel=2
pkgdesc="Collection of Fortran77 subroutines designed to solve large scale eigenvalue problems"
url="https://github.com/opencollab/arpack-ng"
arch="all"
license="BSD"
depends="gfortran"
depends_dev="lapack-dev"
makedepends="$depends_dev autoconf automake libtool make"
install=""
subpackages="$pkgname-dev $pkgname-doc"
source="arpack-ng-master.zip::https://github.com/opencollab/arpack-ng/archive/master.zip"

builddir="$srcdir"/arpack-ng-master
build() {
	cd "$builddir"
	sh bootstrap || return 1
	./configure --prefix=/usr || return 1
	make || return 1
}

package() {
	cd "$builddir"
	make DESTDIR="$pkgdir" install || return 1
	install -Dm644 COPYING "$pkgdir"/usr/share/licenses/"$pkgname"/COPYING
	rm -f "$pkgdir"/usr/lib/*.la
}

sha512sums="dfa1b0f2b0f75e798d83e7b47ae35a4c4248ff247db844dd83544f990927f2688822bb3104a3e6b8839c342ebe05497a37247aa3dd00f43e2dc95f18ab9678a5  arpack-ng-master.zip"
