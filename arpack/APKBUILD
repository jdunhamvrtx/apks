# Maintainer: Notebook Gallery Team <team@nb.gallery>
pkgname=arpack
pkgver=3.4.0
pkgrel=1
pkgdesc="Collection of Fortran77 subroutines designed to solve large scale eigenvalue problems"
url="https://github.com/opencollab/arpack-ng"
arch="all"
license="BSD"
depends="gfortran"
depends_dev="lapack-dev"
makedepends="$depends_dev autoconf automake libtool make"
install=""
subpackages="$pkgname-dev $pkgname-doc"
source="arpack-ng-master.zip::https://github.com/opencollab/arpack-ng/archive/master.zip"

builddir="$srcdir"/arpack-ng-master
build() {
	cd "$builddir"
	sh bootstrap || return 1
	./configure --prefix=/usr || return 1
	make || return 1
}

package() {
	cd "$builddir"
	make DESTDIR="$pkgdir" install || return 1
	install -Dm644 COPYING "$pkgdir"/usr/share/licenses/"$pkgname"/COPYING
	rm -f "$pkgdir"/usr/lib/*.la
}

md5sums="bcd8408387681f9f1faad6c916a245b7  arpack-ng-master.zip"
sha256sums="74b6a85b3bd0720b02730d64de362262e00d21d9509d25414cee840345b63e0c  arpack-ng-master.zip"
sha512sums="4187354d9ab3eadd835d7da148726d922bb47a7a73074b1cf0754eb0c7b39276887efd1b326176d86590037f82cdb79ac107cd2519b77bb967de9a027c622fd4  arpack-ng-master.zip"
