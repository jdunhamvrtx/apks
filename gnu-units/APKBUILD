# Maintainer: Notebook Gallery Team <team@nb.gallery>
pkgname=gnu-units
pkgver=2.18
pkgrel=0
pkgdesc="Converts measurements to their equivalents in other systems of measurement."
url="https://www.gnu.org/software/units"
arch="all"
license="GPL"
depends=""
depends_dev="readline"
makedepends="$depends_dev"
install=""
subpackages="$pkgname-doc"
source="https://ftp.gnu.org/gnu/units/units-$pkgver.tar.gz 
	https://ftp.gnu.org/gnu/units/units-$pkgver.tar.gz.sig"

builddir="$srcdir"/units-$pkgver

prepare() {
	local i
	cd "$builddir"
	for i in $source; do
		case $i in
		*.patch) msg $i; patch -p1 -i "$srcdir"/$i || return 1;;
		esac
	done
}

build() {
	cd "$builddir"
	./configure --prefix=/usr || return 1
}

package() {
	cd "$builddir"
	make || return 1
	make DESTDIR="$pkgdir" install || return 1
	install -Dm644 COPYING "$pkgdir"/usr/share/licenses/"$pkgname"/COPYING || return 1
}
sha512sums="2ae9f08acb03f2f443514800dafb454434d7d1a43497d2a937c2e9e8429f63d821be11ae3090693e8cadbd2f9cdeafba8f80c1671d84a9cceb0f72ad75d8cad7  units-2.18.tar.gz
7b25bb58154211ce191b4aa1d4a657a71896fe97d12dc052bb7659f3a7d9d46e455a0990a3fd067e6c4bee9454a1210e8ce3749cdff82fd3bb9b269e6579e94e  units-2.18.tar.gz.sig"
